
@{
	ViewBag.Title = "Index";
	Layout = "~/Views/Shared/Master.cshtml";
}
<link href="~/Content/Product/assets/css/style.css" rel="stylesheet">

<section class="single-product">
	<div class="container">
		<div class="brdcrmb">
			<!-- braedcrumbs -->
			<ul>
				<li><a href="#" title="">صفحه اصلی</a></li>
				<li><a href="#" title="">@ViewBag.Product.Category.Name</a></li>
				<li>@ViewBag.Product.Name</li>
			</ul>
		</div>
		<div class="single-product__wrapper">
			<div class="row">
				<div class="col-lg-8 offset-lg-4">
					<div class="single-product__title">
						<!-- product title -->
						<h1>@ViewBag.Product.Name</h1>
						<!-- product rate -->
						<div class="single-product__rate" data-rate-value=@ViewBag.Product.GetLike()>
							<!-- insert product code to data attr and innerHTML -->
							<span class="single-product__rate__number" data-rate="0">0</span>
							<div class="single-product__rate__wrapper">
								<i class="at-star"></i>
								<i class="at-star"></i>
								<i class="at-star"></i>
								<i class="at-star"></i>
								<i class="at-star"></i>
								<div class="single-product__rate__inner">
									<input type="radio" id="rate__5" name="rate" value="5">
									<label for="rate__5" data-rate="5"><i class="at-star"></i></label>
									<input type="radio" id="rate__4" name="rate" value="4">
									<label for="rate__4" data-rate="4"><i class="at-star"></i></label>
									<input type="radio" id="rate__3" name="rate" value="3">
									<label for="rate__3" data-rate="3"><i class="at-star"></i></label>
									<input type="radio" id="rate__2" name="rate" value="2">
									<label for="rate__2" data-rate="2"><i class="at-star"></i></label>
									<input type="radio" id="rate__1" name="rate" value="1">
									<label for="rate__1" data-rate="1"><i class="at-star"></i></label>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-4">
					<div class="single-product__actions">
						<!-- product share and compare link -->
						<a href="#" title=""><i class="at-share"></i></a>
						<a href="/Products/Compare?First=@ViewBag.Product.Id" title=""><i class="at-scales"></i></a>
					</div>
					<div class="single-product__image">
						<!-- product big image gallery -->
						<div class="single-product__image__main-slider">
							<div class="swiper-container">
								<div class="swiper-wrapper">
									<div class="swiper-slide zoom">
										<img src="@ViewBag.Product.Main_Image">
									</div>

								</div>
							</div>
						</div>
						<!-- product thumb image gallery -->
						@{ var images = ViewBag.Product.Images != null ? ViewBag.Product.Images.Split(';') : new string[0];}

						<div class="single-product__image__thumb-slider">
							<div class="swiper-container">
								<div class="swiper-wrapper">
									@for (int i = 0; i < images.Length; i++)
									{
										<div class="swiper-slide">
											<img src="@images[i]">
										</div>
									}
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-lg-8">
					<div class="single-product__content">
						<!-- product option (color) -->
						@*<div class="single-product__options">

			<span>رنگ</span>
			<div class="single-product__options__radio">
				<div class="single-product__options__radio__item">

					<input type="radio" name="color" id="rad_1" checked>

					<label for="rad_1" data-color="#000"><span data-bgcolor="#000"></span>مشکی</label>
				</div>
				<div class="single-product__options__radio__item">
					<input type="radio" name="color" id="rad_2">
					<label for="rad_2" data-color="#ff0000"><span data-bgcolor="#ff0000"></span>قرمز</label>
				</div>
			</div>
		</div>*@
						<div class="single-product__price">
							<!-- product price -->
							<span>قیمت</span>
							<div class="single-product__price__price-wrapper">
								<span>@(String.Format("{0:0,0}", ViewBag.Product.Price))<small>تومان</small></span>
							</div>
						</div>
						<div class="single-product__btn">
						<form method="post" action="/Factor/Store">
							<input type="hidden" value="@ViewBag.Product.Id" name="Id" />
							<div style="text-align:center;direction:rtl;margin-top:30px">
								<button type="submit" class="btn btn-primary" @if (ViewBag.Product.Qty == 0) { @String.Format("disabled") 			}>
									<i class="at-cart"></i>افزودن به سبد خرید

								</button>
							</div>
						</form>
							<!-- product add to cart -->
							
						</div>
						<div class="single-product__attrs">
							<span>ویژگی محصول</span>
							<!-- product attributes -->
							<ul>
								<li>
									@ViewBag.Product.Desc
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
<!-- product comments -->
<section class="comments comments--slider">
	<div class="container">
		<div class="comments__wrapper">
			<!-- product comments title -->
			<div class="comments__title">
				<h3>نظرات شما</h3>
				<a href="#" title="">افزودن نظر جدید</a>
			</div>
			<div class="comments__content">
				<div class="swiper-container">
					<div class="swiper-wrapper">
						@foreach (var c in ViewBag.comments.Data)
						{
							<!-- product comment item -->
							<div class="swiper-slide">
								<div class="comments__item">
									<div class="comments__item__name">
										<!-- product comment item name -->
										<span>میثم</span>
										<!-- product comment item rate -> set class active to colored stars -->
										<div style="text-align:left">
											<span>@c.Like</span>
											<a href="/Products/CommentLike?Product_Id=@ViewBag.Product.Id&Comment_id=@c.Id">
												<i class="fa fa-thumbs-up"></i>
											</a>
											&nbsp;&nbsp;&nbsp;
											<span>@c.Dislike</span>
											<a href="/Products/Dislike?Product_Id=@ViewBag.Product.Id&Comment_id=@c.Id">

												<i class="fa fa-thumbs-down"></i>
											</a>
										</div>
									</div>
									<!-- product comment title -->
									<div class="comments__item__title">
										<span>@c.Title</span>
									</div>
									<!-- product comment description -->
									<div class="comments__item__content">
										<p>@c.Text</p>
									</div>
								</div>
							</div>
						}
							<!-- product comment item -->

						</div>
				</div>
			</div>
		</div>
	</div>
</section>
<!-- related products slider -->
<section class="product product--slider">
	<div class="container">
		<div class="section-title">
			<!-- related products title -->
			<h3>محصولات مشابه</h3>
			<a href="#" title=""><i class="at-arrow-left"></i>بیشتر</a>
		</div>
	</div>
	<div class="swiper-container">
		<div class="swiper-wrapper">
			<!-- related product item -->
			@foreach (var l in ViewBag.Random)
			{
				<div class="swiper-slide">
					<div class="product__item">
						<div class="product__image">
							<!-- related product item image -->
							<img src="@l.Thumbnail" title="" alt="">
						</div>
						<div class="product__title">
							<!-- related product item title -->
							<h2>@l.Name</h2>
						</div>
						@if (l.Qty == 0)
						{
							<div style="opacity:1;background-color:#f5f5f5;color:#9d9b9b;width:100%;border-radius:1px 5px 5px 10px;border:1px solid #ababab">
								ناموجود
							</div>
						}
						@if (l.Discount > 0)
						{

							<div class="product__price">
								<!-- related product item price -->
								<span class="product__price__old">@string.Format("{0:0,0}", l.Price)<span>تومان</span></span>
								<span>
									@(String.Format("{0:0,0}", l.Price - l.Discount))
									<span>تومان</span>
								</span>
							</div>
						}
						else
						{
			
							<div class="product__price">

								<span>@(String.Format("{0:0,0}", l.Price))<span>تومان</span></span>
							</div>
						}
						<a href="/Products/Index?Id=@l.Id" title=""></a>
					</div>
				</div>
			}
			</div>
	</div>
</section>

<script src="~/Content/Product/assets/js/scripts.js"></script>
